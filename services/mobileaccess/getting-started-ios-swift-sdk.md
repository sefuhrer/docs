---

copyright:
  years: 2016

---

# Setting up the iOS Swift SDK
{: #getting-started-ios}

Instrument your iOS application with the {{site.data.keyword.amashort}} SDK, initialize the SDK and make requests to protected and unprotected resources.

## Before you begin
{: #before-you-begin}
* You must have an instance of a mobile backend that is protected by the {{site.data.keyword.amashort}} service. For more information about how to create a mobile backend, see [Getting started](getting-started.html).
* Make sure that you correctly set up Xcode. For more information about how to set up your iOS development environment, see the [Apple Developer website](https://developer.apple.com/support/xcode/).


## Installing the {{site.data.keyword.amashort}} client SDK
{: #install-mca-sdk-ios}
The {{site.data.keyword.amashort}} SDK is distributed with CocoaPods, a dependency manager for iOS projects. CocoaPods automatically downloads artifacts from repositories and makes them available to your iOS application.


### Install CocoaPods
{: #install-cocoapods}
1. Open Terminal and run the **pod --version** command. If you already have CocoaPods installed, the version number displays. You can skip to the next section to install the SDK.

1. If you do not have CocoaPods installed, run:
```
sudo gem install cocoapods
```
For more information, see the [CocoaPods website](https://cocoapods.org/).

### Install the {{site.data.keyword.amashort}} client SDK with CocoaPods
{: #install-sdk-cocoapods}

1. In Terminal, navigate to the root directory of your iOS project.

1. If you have not already initialized your workspace for CocoaPods, run the `pod init` command.<br/>
 CocoaPods creates a `Podfile` file for you, which is where you define dependencies for your iOS project.

1. Edit the `Podfile` file and add the following line to the required targets:

	```
  use_frameworks!
	pod 'BMSSecurity'
	```
  **Tip:** You can add `use_frameworks!` to your Xcode target instead of having it in the Podfile.

1. Save the `Podfile` file and run `pod install` from the command line. <br/>Cocoapods  install added dependencies. You can see the progress and which components were added.<br/>
**Important**: CocoaPods generates an `xcworkspace` file.  You must open this file to work on your project going forward.

1. Open your iOS project workspace. Open the `xcworkspace` file that was generated by CocoaPods. For example: `{your-project-name}.xcworkspace`. Run `open {your-project-name}.xcworkspace`.

## Initializing the {{site.data.keyword.amashort}} client SDK
{: #init-mca-sdk-ios}

 Initialize the SDK by passing the `applicationRoute` and `applicationGUID` parameters. A common, though not mandatory, place to put the initialization code is in the `application:didFinishLaunchingWithOptions` method of your application delegate.

1. Get your application parameter values. Open your app in the {{site.data.keyword.Bluemix_notm}} dashboard. Click **Mobile Options**. The `applicationRoute` and `applicationGUID` values are displayed in the **Route** and **App GUID** fields.

1. Import the required frameworks in the class where you want to use {{site.data.keyword.amashort}} client SDK.

 ```Swift
 import BMSCore
 import BMSSecurity
 ```  

1. Initialize the {{site.data.keyword.amashort}} client SDK. Replace the `<applicationRoute>` and `<applicationGUID>` with values for **Route** and **App GUID** that you obtained from **Mobile Options** in the {{site.data.keyword.Bluemix_notm}} dashboard.

 ```Swift
 let backendURL = "<applicationRoute>"
 let backendGUID = "<applicationGUID>"

 func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {

 // Initialize the client SDK.  
 BMSClient.sharedInstance.initializeWithBluemixAppRoute(backendURL, bluemixAppGUID: backendGUID, bluemixRegion: BMSClient.<application Bluemix region>)

 BMSClient.sharedInstance.authorizationManager = MCAAuthorizationManager.sharedInstance

 return true
 }
 ```

## Making a request to your mobile backend
{: #request}

After the {{site.data.keyword.amashort}} client SDK is initialized, you can start making requests to your mobile backend.

1. Try to send a request to a protected endpoint on your mobile backend in your browser. Open the following URL: `{applicationRoute}/protected`. For example: `http://my-mobile-backend.mybluemix.net/protected`
<br/>The `/protected` endpoint of a mobile backend that was created with MobileFirst Services Starter boilerplate is protected with {{site.data.keyword.amashort}}. An `Unauthorized` message is returned in your browser because this endpoint can be accessed by mobile applications that are instrumented with {{site.data.keyword.amashort}} client SDK only.

1. Use your iOS application to make a request to the same endpoint. Add the following code after you initialize `BMSClient`:

 ```Swift
 let customResourceURL = "<your protected resource's path>"
 let request = Request(url: customResourceURL, method: HttpMethod.GET)
 let callBack:MfpCompletionHandler = {(response: Response?, error: NSError?) in
     if error == nil {
         print ("response:\(response?.responseText), no error")
     } else {
         print ("error: \(error)")
     }
 }

 request.sendWithCompletionHandler(callBack)
 ```

1.  When your request succeeds, you will see the following output the Xcode console:

 ```
 response:Optional("Hello, this is a protected resouce of the mobile backend application!"), no error
 ```

## Next steps
{: #next-steps}
When you connected to the protected endpoint, no credentials were required. To require your users to log in to your application, you must configure Facebook, Google, or custom authentication.
  * [Facebook](facebook-auth-ios-swift-sdk.html)
  * [Google](google-auth-ios-swift-sdk.html)
  * [Custom](custom-auth-ios-swift-sdk.html)
