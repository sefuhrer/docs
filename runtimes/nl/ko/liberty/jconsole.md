---

copyright:
  years: 2015, 2016

---

{:new_window: target="_blank"}
{:codeblock: .codeblock}

# Bluemix에서 JConsole을 사용하여 Liberty 모니터링
{: #jconsole}

*마지막 업데이트 날짜: 2016년 3월 23일*

## JConsole을 사용하여 Bluemix Liberty 런타임을 모니터하는 단계는 다음과 같습니다. 
{: #steps_to_monitor}

1. 올바른 server.xml을 포함한 서버 패키지 안에서 앱을 푸시합니다. 
2. 명령행에서 올바른 시스템 특성을 사용하여 JConsole 앱을 시작합니다. 
3. 적절한 원격 프로세스 URI, 사용자 이름 및 비밀번호를 JConsole에 제공합니다.

### 서버 패키지 푸시
{: #push_server_package}

하나의 인스턴스로 제한되는 애플리케이션을 포함한
서버 패키지를 푸시합니다. server.xml 파일에 monitor-1.0 및 restConnector-1.0 기능이 포함되어 있어야 합니다.
basicRegistry 요소와 administrator-role 요소도 있어야 합니다. 
<pre>
       &lt;featureManager&gt;
    	   &lt;feature&gt;jsp-2.2&lt;/feature&gt;
    	   &lt;feature&gt;monitor-1.0&lt;/feature&gt;
    	   &lt;feature&gt;restConnector-1.0&lt;/feature&gt;
       &lt;/featureManager&gt;

       &lt;basicRegistry&gt;
    	   &lt;user name="jconuser" password="jconpassw0rd"/&gt;
       &lt;/basicRegistry&gt;

       &lt;administrator-role&gt;
    	   &lt;user&gt;jconuser&lt;/user&gt;
       &lt;/administrator-role&gt;
</pre>
{: #codeblock}

   * 참고: Liberty에서 제공되는 securityUtility 도구를 사용하여 비밀번호가 인코딩되어야 합니다.

### JConsole 앱 시작
{: #start_jconsole_app}

JConsole은 java 설치에 포함되어 있습니다. JConsole 앱을 시작하려면 <java-home>/bin(Java 1.7 이상)으로 이동하여 다음 명령을 실행하십시오. 
<pre>
    $ jconsole -J-Djava.class.path=<java-home>/lib/jconsole.jar;<liberty-home>/wlp/clients/restConnector.jar
</pre>
{: #codeblock}

  * 다음은 대부분의 경우에 작동되어야 하는 신뢰 저장소 매개변수의 기본값입니다.
<pre>
    -J-Djavax.net.ssl.trustStore=<java-home>/jre/lib/security/acerts -J-Djavax.net.ssl.trustStorePassword=changeit -J-Djavax.net.ssl.trustStoreType=jks
</pre>
{: #codeblock}
  * 필요한 경우,
적절한 신뢰 저장소 매개변수를 지정하십시오.

### 연결 완료
{: #start_jconsole_app}
  * 원격 프로세스 필드에 다음 URI을 입력하십시오.     
    * service:jmx:rest://<appName>.mybluemix.net:443/IBMJMXConnectorREST.  
  *  또한 Username 및 Password 필드에 administrator-role 역할 사용자와 server.xml 파일에서 구한 비밀번호를 입력하십시오. 
  * 연결을 클릭하십시오.

연결에 성공하면
JConsole이 모니터링을 시작합니다.

연결에 실패하면
문제점을 진단하는 데 도움이 되는 로그를 생성할 수 있습니다.
먼저, ** -J-Djava.util.logging.config.file=c:/tmp/logging.properties**를
jconsole 명령에 추가하여 클라이언트 측 추적을 수집합니다.다음은 샘플 로깅 특성 파일입니다. 

<pre>
    handlers= java.util.logging.FileHandler
    .level=INFO java.util.logging.FileHandler.pattern = /tmp/jmxtrace.log
    java.util.logging.FileHandler.limit = 50000
    java.util.logging.FileHandler.count = 1
    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter
    javax.management.level=FINEST
    javax.management.remote.level=FINER
    com.ibm.level=FINEST
</pre>
{: #codeblock}

<b>&dash;J&dash;Djavax.net.debug=ssl</b>을 jconsole 명령에 추가할 수도 있습니다. 이렇게 하면 SSL 진단 추적이 별도의
JConsole 출력 창에 생성됩니다. 마지막으로 server.xml 파일에 다음을 추가하여 서버측에 추적을 사용으로 설정할 수 있습니다. 
<pre>
    &lt;logging traceSpecification="com.ibm.ws.jmx.&ast;=all"/&gt;
</pre>
{: codeblock}

# 관련 링크
## 일반
* [Liberty 런타임](index.html)
* [Liberty 프로파일 개요](http://www-01.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.wlp.nd.doc/ae/cwlp_about.html)
